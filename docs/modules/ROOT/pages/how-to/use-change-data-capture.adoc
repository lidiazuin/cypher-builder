[[change-data-capture]]
:description: This page describes how use the Change Data Capture (CDC) API.
= Use Change Data Capture

This page describes how to create link:https://neo4j.com/docs/cdc/current/[Change Data Capture] (CDC) queries with the Cypher Builder using the following procedures in the `cdc` namespace:

* `Cypher.cdc.current()`
* `Cypher.cdc.earliest()`
* `Cypher.cdc.query(from, selectors)`

== Current change identifier

To acquire the current change identifier, follow these instructions:

[source, javascript]
----
const query = Cypher.cdc.current().yield("id");
const { cypher } = query.build();
----

[source, cypher]
----
CALL cdc.current() YIELD id
----

== Query changes

To query changes in the graph, follow these instructions:

[source, javascript]
----
const query = Cypher.cdc.query(fromId);
const { cypher } = query.build();
----

[source, cypher]
----
CALL cdc.query("cdc-id", [])
----

== Using query selectors

To use link:https://neo4j.com/docs/cdc/current/selectors/[CDC selectors], define a `Map` with the properties of the selector schema for each selector:

[source, javascript]
----
const fromId="cdc-id";
const selector = new Cypher.Map({
    select: new Cypher.Literal("e"),
    operation: new Cypher.Literal("c"),
    changesTo: new Cypher.List([new Cypher.Literal("name"), new Cypher.Literal("title")]),
});


const query = Cypher.cdc.query(fromId, [selector]);
const { cypher } = query.build();
----

[source, cypher]
----
CALL cdc.query("cdc-id", [{
    select: "e",
    operation: "c",
    changesTo: ["name", "title"]
}])
----
